class Solution {
public:

    bool f (int ind , int target , vector<int>& nums , vector<vector<int>>& dp)
    {
        //base case
        if (target == 0) return true;
        if (ind == 0) return nums[0] == target;

        //dp
        if (dp[ind][target] != -1) return dp[ind][target];

        //conditions
        bool nt = f(ind-1,target,nums,dp);
        bool t = false;
        if (nums[ind] <= target){
            t = f(ind-1,target-nums[ind],nums,dp);
        }
        return dp[ind][target] = t|nt;
    }

    bool canPartition(vector<int>& nums) {


        int n = nums.size();
        int sum = 0;
        for (int i=0;i<n;i++)
        {
            sum+=nums[i];
        }
        vector<vector<int>> dp(n,vector<int>(sum+1,-1));
        if (sum%2!=0) {return false;}
        else{
            int ans = sum/2;
            return f(n-1,ans,nums,dp);
        }
        
    }
};
